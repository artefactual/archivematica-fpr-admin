{% extends "fpr/app_layout.html" %}
{% load staticfiles %}

{% block title %}Archivematica FPR Server - Identification Rules{% endblock title %}

{% block page_title %}
Identification Rule Information
{% endblock page_title %}

{% block breadcrumbs %}
{{ block.super }}
<li>Identification Rules</li>
{% endblock breadcrumbs %}

{% block app_content %}
<div class="row">

  {% include 'fpr/_sidebar.html' %}

  <div class="span10">

<p><a href="{% url 'idrule_create' %}">Create New Rule</a></p>

{% if idrules %}
  <table class="datatable">
    <thead>
      <tr>
        <th>Output</th>
        <th>Script</th>
        <th>Tools</th>
        <th>Format</th>
        <th>UUID</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
    {% for idrule in idrules %}
      <tr>
        <td>{{ idrule.script_output }}</td>
        <td>{{ idrule.script }}</td>
        <td>{{ idrule.script.tool.all|join:", " }}</td>
        <td><a href="{% url 'format_detail' idrule.format.format.slug %}">{{ idrule.format }}</a></td>
        <td>{{ idrule.uuid }}</td>
        <td><a href="{% url 'idrule_edit' idrule.uuid %}">Replace</a></td>
      </tr>
    {% endfor %}
    </tbody>
  </table>
{% else %}
  <p>No identification rules exist.</p>
{% endif %}

  </div> <!-- /span10 -->

</div> <!-- /row -->

{% endblock app_content %}
