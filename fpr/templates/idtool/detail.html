{% extends "fpr/app_layout.html" %}
{% load url from future %}
{% load staticfiles %}

{% block title %}Archivematica FPR Server - {{ idtool.description }} {{ idtool.version }}{% endblock title %}

{% block page_title %}
{{ idtool.description }} Information
{% endblock page_title %}

{% block breadcrumbs %}
{{ block.super }}
<li><a href="{% url 'idtool_list' %}">Identification Tools</a></li>
<li>{{ idtool.description }}</li>
{% endblock breadcrumbs %}

{% block app_content %}

<div class="row">

  {% include 'fpr/_sidebar.html' %}

  <div class="span10">

    <div class='format'>
      <dl>
       <dt>UUID</dt>
          <dd>{{ idtool.uuid }}</dd>
        <dt>Description</dt>
          <dd>{{ idtool.description }}</dd>
        <dt>Version</dt>
          <dd>{{ idtool.version }}</dd>
        <dt>Enabled</dt>
          <dd>{{ idtool.enabled }}</dd>
        <dt>Actions</dt>
          <dd><a href="{% url 'idtool_edit' idtool.slug %}">Edit</a></dd>
      </dl>
    </div>

    <h2>Tool Configurations</h2>

    <p><a href="{% url 'idtoolconfig_create' idtool.slug %}">Create New Tool Configuration</a></p>

    {% if idtool_config %}
      <table class="datatable">
        <thead>
          <tr>
            <th>Configuration</th>
            <th>Identifier</th>
            <th>Command</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        {% for config in idtool_config %}
          <tr>
            <td>{{ config.config }}</td>
            <td>{{ config.command.description }}</td>
            <td>{{ config.command.script|truncatechars:100 }}</td>
            <td>
              <a href="{% url 'idtoolconfig_detail' idtool.slug config.slug %}">View</a> |
              <a href="{% url 'idtoolconfig_edit' idtool.slug config.slug %}">Replace</a> |
              <a href="{% url 'idtoolconfig_delete' idtool.slug config.slug %}">Disable</a>
            </td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No configurations exist for {{ idtool.description }}.</p>
    {% endif %}

  </div> <!-- /span10 -->

</div> <!-- /row -->

{% endblock app_content %}
