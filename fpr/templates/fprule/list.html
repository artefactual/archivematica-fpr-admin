{% extends "fpr/app_layout.html" %}
{% load url from future %}
{% load staticfiles %}

{% block title %}Archivematica FPR Server - Format Policy Rules{% endblock title %}

{% block page_title %}
Format Policy Rule Information
{% endblock page_title %}

{% block breadcrumbs %}
{{ block.super }}
<li>Format Policy Rules</li>
{% endblock breadcrumbs %}

{% block app_content %}

<div class="row">

  {% include 'fpr/_sidebar.html' %}

  <div class="span10">

    <p><a href="{% url 'fprule_create' %}">Create New Rule</a></p>

    {% if fprules %}
      <table class="datatable">
        <thead>
          <tr>
            <th>Purpose</th>
            <th>Format</th>
            <th>Command</th>
            <th>UUID</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
        {% for fprule in fprules %}
          <tr>
            <td><a href="{% url 'fprule_detail' fprule.uuid %}">{{ fprule.purpose|title }}</a></td>
            <td>{{ fprule.format.description }}</td>
            <td>{{ fprule.command.description }}</td>
            <td><a href="{% url 'fprule_detail' fprule.uuid %}">{{ fprule.uuid }}</a></td>
            <td><a href="{% url 'fprule_edit' fprule.uuid %}">Replace</a></td>
          </tr>
        {% endfor %}
        </tbody>
      </table>
    {% else %}
      <p>No format policy rules exist.</p>
    {% endif %}

  </div> <!-- /span10 -->

</div> <!-- /row -->

{% endblock app_content %}
